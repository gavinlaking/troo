require_relative "../../../test_helper"

module Ctrlo
  describe MoveCard do
    describe "#move" do
      subject { MoveCard.with("526d8f19ddb279532e005259", list_id) }

      before do
        VCR.insert_cassette(:move_card)
      end

      after do
        VCR.eject_cassette
      end

      describe "when a list_id is supplied" do
        let(:list_id) { "526d8e130a14a9d846001d98" }

        it "moves the card to the specified list" do
          parsed_subject = JSON.parse(subject).fetch("idList")
          parsed_subject.must_equal "526d8e130a14a9d846001d98"
        end
      end

      describe "when a list_id is not supplied" do
        let(:list_id) { }

        it "presents the user with a list of options" do
          skip("Please write spec.")
        end
      end
    end
  end
end
