require_relative "../../test_helper"

module Ctrlo
  describe Output do
    describe "#list_table" do
      let(:content) { [ { key: "1", value: "Hello", header: { key: "Key", value: "Value" } },
                        { key: "2", value: "World", header: { key: "Key", value: "Value" } } ] }
      subject { Output.new(content).list_table }

      it "renders a table to the screen" do
        proc { subject }.must_output <<-OUTPUT.gsub(/^ {10}/, "")
          +-----+-------+
          | Key | Value |
          +-----+-------+
          | 1   | Hello |
          | 2   | World |
          +-----+-------+
        OUTPUT
      end
    end
  end
end

